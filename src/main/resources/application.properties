spring.application.name=rabbit-publisher
server.port=8080

# ===== CONFIGURACION DE CONEXION BASICA =====
spring.rabbitmq.host=localhost
spring.rabbitmq.port=5672
spring.rabbitmq.username=aramirezm
spring.rabbitmq.password=Ramirez1989

# ===== CONFIGURACION PARA ALTO VOLUMEN =====
# Tamano del pool de conexiones - aumenta el numero de conexiones simultaneas al broker
# Para millones de transacciones, multiples conexiones mejoran el throughput
spring.rabbitmq.cache.connection.size=10

# Modo de cache de canales - permite reutilizar canales en lugar de crear/destruir constantemente
# CONNECTION permite multiples conexiones con multiples canales cada una
spring.rabbitmq.cache.connection.mode=CONNECTION

# Numero de canales por conexion - cada canal puede publicar mensajes de forma concurrente
# 50 canales por conexion = 500 canales totales (10 conexiones * 50 canales)
spring.rabbitmq.cache.channel.size=50

# ===== PUBLISHER CONFIRMS - GARANTIZA ENTREGA =====
# Activa las confirmaciones del publisher - RabbitMQ confirma que recibio el mensaje
# CORRELATED: Usa callbacks asincronos para confirmar cada mensaje individualmente
# Garantiza que ningun mensaje se pierda sin sacrificar demasiado rendimiento
spring.rabbitmq.publisher-confirm-type=correlated

# Activa los returns del publisher - RabbitMQ devuelve mensajes que no pudieron ser enrutados
# Permite manejar mensajes que no llegaron a ninguna cola
spring.rabbitmq.publisher-returns=true

# ===== TIMEOUTS Y RECONEXION =====
# Timeout de conexion en milisegundos - tiempo maximo para establecer conexion inicial
spring.rabbitmq.connection-timeout=60000

# Timeout de handshake de canal en milisegundos
spring.rabbitmq.channel-rpc-timeout=60000

# ===== OPTIMIZACION DE RENDIMIENTO =====
# Habilita compresion de mensajes grandes - reduce el uso de red para payloads grandes
# (Se configura en RabbitTemplate mediante codigo)

# ===== CONFIGURACION DE RETRY =====
# Habilita reintentos automaticos en caso de fallos temporales de conexion
spring.rabbitmq.template.retry.enabled=true
# Numero maximo de intentos antes de fallar definitivamente
spring.rabbitmq.template.retry.max-attempts=3
# Tiempo inicial de espera entre reintentos en ms
spring.rabbitmq.template.retry.initial-interval=1000
# Multiplicador para backoff exponencial (cada reintento espera mas tiempo)
spring.rabbitmq.template.retry.multiplier=2.0
# Tiempo maximo de espera entre reintentos en ms
spring.rabbitmq.template.retry.max-interval=10000
